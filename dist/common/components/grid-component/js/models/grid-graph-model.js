!function(){"use strict"
GridGraphComponent.Models.GridModel=Backbone.Model.extend({defaults:function(){return{backgroundColor:16777215,canvasHeight:GridGraphComponent.Models.GridModel.DEFAULT_CANVAS_HEIGHT,canvasOrigin:null,canvasWidth:GridGraphComponent.Models.GridModel.DEFAULT_CANVAS_HEIGHT,containerId:null,gridAxesColor:10197915,gridLimits:{xLower:-10,xUpper:100,yLower:-10,yUpper:-100},gridLinesColor:0,gridLinesAlpha:.12,labelsFontColor:0,labelsFontFamily:"Lato, Arial",labelsFontSize:"12px",showAxes:!0,showGridLines:!0,showIntervalLabels:!0,xInterval:10,xRatio:null,yInterval:10,yRatio:null}},initialize:function(t){this.listenTo(this,"change",this._calculateAndSetGridData),this._calculateAndSetGridData(),this.mainModel=t.mainModel},_calculateAndSetGridData:function(){var t,i=this.get("gridLimits"),r=i.xLower,e=i.xUpper,a=i.yLower,n=i.yUpper,o=this.get("canvasWidth"),s=this.get("canvasHeight"),g=0,h=0
g=Math.abs(e-r)/o,h=Math.abs(n-a)/s,t=this._getCanvasOrigin(g,h,i),this.set({canvasOrigin:t,xRatio:g,yRatio:h})},_getCanvasOrigin:function(t,i,r){var e=-r.xLower/t,a=this.get("canvasHeight")+r.yLower/i
return{x:e,y:a}},convertToCanvasCoordinates:function(t){var i=this.get("canvasOrigin"),r={x:i.x+t.x/this.get("xRatio"),y:i.y-t.y/this.get("yRatio")}
return r},convertToGraphCoordinates:function(t){var i=this.get("canvasOrigin"),r={x:(t.x-i.x)*this.get("xRatio"),y:(i.y-t.y)*this.get("yRatio")}
return r},isPointVisible:function(t){var i=!1,r=this.get("gridLimits")
return t.x<=r.xUpper&&t.x>=r.xLower&&t.y<=r.yUpper&&t.y>=r.yLower&&(i=!0),i},getNearestMultipleOfInterval:function(t,i){var r=t%i,e=0>=r?r:i-r,a=t+e*this.getSignOfNumber(t)
return a},getSignOfNumber:function(t){return t?0>t?-1:1:0}},{GRAPH_EVENTS:{GRID_GRAPH_MOUSEMOVE:"grid-graph-mousemove",GRID_GRAPH_MOUSEDOWN:"grid-graph-mousedown",GRID_GRAPH_MOUSEUP:"grid-graph-mouseup",GRID_GRAPH_MOUSEOVER:"grid-graph-mouseover",GRID_GRAPH_MOUSEOUT:"grid-graph-mouseout",GRID_GRAPH_TOUCHSTART:"grid-graph-touchstart",GRID_GRAPH_TOUCHEND:"grid-graph-touchend",GRID_GRAPH_TOUCHMOVE:"grid-graph-touchmove"},roundNumber:function(t,i){var r=i?Math.pow(10,i):Math.pow(10,0)
return Math.round(t*r)/r},DEFAULT_CANVAS_WIDTH:400,DEFAULT_CANVAS_HEIGHT:400})}(GridGraphComponent)
